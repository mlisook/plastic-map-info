define(["./my-app.js"],function(_myApp){"use strict";function _templateObject_0043316074e011e89e1483b20adabf0d(){var data=babelHelpers.taggedTemplateLiteral(["\n      <style include=\"shared-styles iron-flex iron-flex-alignment\">\n        :host {\n          display: block;\n\n          padding: 10px;\n        }\n        #mapcontainerdiv {\n          width: 100%;\n          height: 100%;    \n          position: relative;\n          padding: 0;\n          margin: 0;    \n        }\n        #maparea {\n          width: 400px;\n          height: 300px;\n          position: relative;\n          padding: 0;\n          margin: 0;\n        }\n      </style>\n      \n      <template is=\"dom-if\" if=\"[[apiKey]]\" restamp=\"true\">\n        <iron-jsonp-library library-url=\"[[_gmapApiUrl]]\" notify-event=\"map-api-load\" library-loaded=\"{{_ijplLoaded}}\" on-map-api-load=\"_mapsApiLoaded\"></iron-jsonp-library>\n      </template>\n          <div id=\"maparea\">\n            <div id=\"mapcontainerdiv\">\n            </div>\n            <plastic-map-info id=\"infowin\" fade-in map=\"[[_theMap]]\" elevation=\"4\">\n              <div class=\"layout vertical\">\n                <div style=\"width:100%; background-color: blue; font-weight: bold; color: white; padding: 5px 5px 5px 9px;\">[[_selectedLocation.place]]</div>\n                <div class=\"layout vertical\" style=\"border: 2px solid blue; padding: 5px 5px 5px 9px;\">\n                  <template is=\"dom-repeat\" items=\"[[_selectedLocation.schedule]]\" as=\"sch\">\n                    <div class=\"layout horizontal\">\n                      <paper-icon-button id=\"[[sch.meetingId]]\" icon=\"social:person-add\" on-tap=\"_attending\"></paper-icon-button>\n                      <span>[[sch.meetingTime]]</span>\n                    </div>\n                  </template>\n                </div>\n              </div>\n            </plastic-map-info>\n          </div>\n          <div id=\"sources\"></div>\n    "]);_templateObject_0043316074e011e89e1483b20adabf0d=function(){return data};return data}var MyView1=function(_PolymerElement){babelHelpers.inherits(MyView1,_PolymerElement);function MyView1(){babelHelpers.classCallCheck(this,MyView1);return babelHelpers.possibleConstructorReturn(this,(MyView1.__proto__||Object.getPrototypeOf(MyView1)).apply(this,arguments))}babelHelpers.createClass(MyView1,[{key:"connectedCallback",value:function connectedCallback(){var _this=this;babelHelpers.get(MyView1.prototype.__proto__||Object.getPrototypeOf(MyView1.prototype),"connectedCallback",this).call(this);this._locationMarkers=[{locationId:"a20",latLng:{lat:40.750454,lng:-73.993519},place:"Pen Station / Madison Square Garden",schedule:[{meetingId:"m120",meetingTime:"07/01/2017 10:00am"},{meetingId:"m125",meetingTime:"07/05/2017 2:00pm"},{meetingId:"m130",meetingTime:"07/31/2017 11:00am"}]},{locationId:"a22",latLng:{lat:40.761449,lng:-73.977622},place:"MoMA",schedule:[{meetingId:"m121",meetingTime:"07/02/2017 10:30am"},{meetingId:"m126",meetingTime:"07/06/2017 3:00pm"}]},{locationId:"a24",latLng:{lat:40.74829,lng:-73.985599},place:"Empire State Building",schedule:[{meetingId:"m131",meetingTime:"07/29/2017 9:30am"},{meetingId:"m122",meetingTime:"08/02/2017 10:30am"},{meetingId:"m127",meetingTime:"08/06/2017 1:00am"},{meetingId:"m133",meetingTime:"08/29/2017 9:45am"}]}];setTimeout(function(){_this._showSource()},1e3)}},{key:"_addMarkerListener",value:function _addMarkerListener(marker,location){var _this2=this;google.maps.event.addListener(marker,"click",function(e){_this2._markerClick(marker,location,e)})}},{key:"_markerClick",value:function _markerClick(marker,location){this._selectedLocation=location;this.$.infowin.showInfoWindow(marker)}},{key:"_doMarkers",value:function _doMarkers(map,cl){var _this3=this;if(map&&cl&&0<cl.length){var bounds=new google.maps.LatLngBounds;cl.forEach(function(loc){if(loc.latLng){var m=new google.maps.Marker({position:loc.latLng,title:loc.place,map:_this3._theMap});loc.marker=m;bounds.extend(loc.latLng);_this3._addMarkerListener(m,loc)}});this._theMap.fitBounds(bounds)}}},{key:"_computeUrl",value:function _computeUrl(akey){return"https://maps.googleapis.com/maps/api/js?callback=%%callback%%&v=3.exp&libraries=drawing,geometry,places,visualization&key="+akey}},{key:"_mapsApiLoaded",value:function _mapsApiLoaded(){this._theMap=new google.maps.Map(this.$.mapcontainerdiv,{zoom:4,center:{lat:43.923,lng:-121.3465}})}},{key:"_showSource",value:function _showSource(){var mapMarkup=hljs.highlight("xml","\n    <div id=\"maparea\">\n      <div id=\"mapcontainerdiv\">\n      </div>\n      <plastic-map-info id=\"infowin\" fade-in map=\"[[_theMap]]\" elevation=\"4\">\n        <div class=\"layout vertical\">\n          <div style=\"width:100%; background-color: blue; font-weight: bold; color: white; padding: 5px 5px 5px 9px;\">\n            [[_selectedLocation.place]]\n          </div>\n          <div class=\"layout vertical\" style=\"border: 2px solid blue; padding: 5px 5px 5px 9px;\">\n            <template is=\"dom-repeat\" items=\"[[_selectedLocation.schedule]]\" as=\"sch\">\n              <div class=\"layout horizontal\">\n                <paper-icon-button id=\"[[sch.meetingId]]\" icon=\"social:person-add\" on-tap=\"_attending\"></paper-icon-button>\n                <span>[[sch.meetingTime]]</span>\n              </div>\n            </template>\n          </div>\n        </div>\n      </plastic-map-info>\n    </div>\n    ");this.$.sources.innerHTML="\n    <p>In this example the Google Maps Javascript API is used in code to create the map and markers.</p>\n    <h3>Markup</h3>\n    <pre><code class=\"html\">".concat(mapMarkup.value,"</code></pre>");var jsCode=hljs.highlight("javascript","\n  /**\n   * Compute the URL for loading maps api\n   * @param {String} akey - Google Maps API Key\n   */\n  _computeUrl(akey) {\n    return \"https://maps.googleapis.com/maps/api/js?callback=%%callback%%&v=3.exp&libraries=drawing,geometry,places,visualization&key=\" +\n      akey;\n  }\n  /**\n   * Handle map api loaded event\n   * Initialize the map\n   * @param {Event} e \n   */\n  _mapsApiLoaded(e) {\n    this._theMap = new google.maps.Map(this.$.mapcontainerdiv, {\n      zoom: 4,\n      center: {\n        lat: 43.923,\n        lng: -121.3465\n      }\n    });\n  }\n  /**\n   * Adds a list of markers to the map\n   * @param {Object} map - Reference to the google map object\n   * @param {Array<Object>} cl - Array of locations to map \n   */\n  _doMarkers(map, cl) {\n    if (map && cl && cl.length > 0) {\n      let bounds = new google.maps.LatLngBounds();\n      cl.forEach((loc) => {\n        if (loc.latLng) {\n          let m = new google.maps.Marker({\n            position: loc.latLng,\n            title: loc.place,\n            map: this._theMap\n          });\n          loc.marker = m;\n          bounds.extend(loc.latLng);\n          this._addMarkerListener(m, loc);\n        }\n      });\n      this._theMap.fitBounds(bounds);\n    }\n  }\n  /**\n   * add a click event listener, capturing the marker and location\n   */\n  _addMarkerListener(marker, location) {\n    google.maps.event.addListener(marker, 'click', (e) => {\n      this._markerClick(marker, location, e);\n    });\n  }\n  /**\n   * Handle marker click\n   * @param {marker} marker - google maps marker\n   * @param {object} location - mltm location object\n   * @param {object} e - event data\n   */\n  _markerClick(marker, location, e) {\n    this._selectedLocation = location;\n    this.$.infowin.showInfoWindow(marker);\n  }\n    ");this.$.sources.innerHTML+="<h3>Javascript</h3>\n    <p>This illustrates initializing the map, adding markers and showing the infowindow</p>\n    <pre><code class=\"javascript\">".concat(jsCode.value,"</code></pre>")}}],[{key:"template",get:function get(){return(0,_myApp.html)(_templateObject_0043316074e011e89e1483b20adabf0d())}},{key:"properties",get:function get(){return{apiKey:{type:String,value:"AIzaSyAsblFIAb_-l6kS1DAd8rzE-TeQC2uSVW8",notify:!0},apiLoaded:{type:Boolean,value:!1,notify:!0},_gmapApiUrl:{type:String,notify:!0,computed:"_computeUrl(apiKey)"},_theMap:{type:Object,value:null,notify:!0},_selectedLocation:{type:Object,notify:!0},_locationMarkers:{type:Array,value:function value(){return[]}}}}},{key:"observers",get:function get(){return["_doMarkers(_theMap, _locationMarkers)"]}}]);return MyView1}(_myApp.PolymerElement);window.customElements.define("my-view1",MyView1)});